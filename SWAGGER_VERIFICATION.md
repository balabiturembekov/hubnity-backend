# Проверка Swagger документации на соответствие протестированным эндпоинтам

## Эндпоинты, протестированные через curl

### 1. POST /api/auth/register ✅

**Swagger**: ✅ Полная документация

- Описание операции
- Примеры запросов
- Схема ответа (201)
- Статусы ошибок (400, 409)
- **Соответствие**: ✅ Полное

### 2. POST /api/auth/login ✅

**Swagger**: ✅ Полная документация

- Описание операции
- Схема ответа (200) с user и tokens
- Статусы ошибок (401, 400)
- **Соответствие**: ✅ Полное

### 3. GET /api/auth/me ✅

**Swagger**: ✅ Полная документация

- Описание операции
- Схема ответа (200) с полной информацией о пользователе
- Статус ошибки (401)
- **Соответствие**: ✅ Полное

### 4. POST /api/projects ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Статусы ответов (201, 400, 403) ✅
- **Отсутствует**: Схема ответа (201) - нет примера структуры созданного проекта
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 5. POST /api/time-entries ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Статусы ответов (201, 400, 403, 404) ✅
- **Отсутствует**: Схема ответа (201) - нет примера структуры созданной записи времени
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 6. GET /api/time-entries/active ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Query параметры (userId) ✅
- Статусы ответов (200, 401) ✅
- **Отсутствует**: Схема ответа (200) - нет примера структуры массива записей времени
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 7. PUT /api/time-entries/:id/pause ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Статусы ответов (200, 400, 403, 404) ✅
- **Отсутствует**: Схема ответа (200) - нет примера структуры обновленной записи
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 8. PUT /api/time-entries/:id/resume ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Статусы ответов (200, 400, 403, 404) ✅
- **Отсутствует**: Схема ответа (200) - нет примера структуры обновленной записи
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 9. PUT /api/time-entries/:id/stop ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Статусы ответов (200, 400, 403, 404) ✅
- **Отсутствует**: Схема ответа (200) - нет примера структуры остановленной записи
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 10. GET /api/time-entries ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Query параметры (userId, projectId) ✅
- Статусы ответов (200, 401) ✅
- **Отсутствует**: Схема ответа (200) - нет примера структуры массива записей
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 11. PATCH /api/time-entries/:id ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Статусы ответов (200, 400, 403, 404) ✅
- **Отсутствует**: Схема ответа (200) - нет примера структуры обновленной записи
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 12. GET /api/time-entries/activities ✅

**Swagger**: ⚠️ Частичная документация

- Описание операции ✅
- Query параметры (userId, limit) ✅
- Статусы ответов (200, 401) ✅
- **Отсутствует**: Схема ответа (200) - нет примера структуры истории активности
- **Соответствие**: ⚠️ Неполное (нет схемы ответа)

### 13. POST /api/idle/heartbeat ✅

**Swagger**: ✅ Полная документация

- Описание операции ✅
- Схема ответа (200) с success и timestamp ✅
- Статусы ошибок (401, 404) ✅
- **Соответствие**: ✅ Полное

### 14. GET /api/idle/status ✅

**Swagger**: ✅ Полная документация

- Описание операции ✅
- Схема ответа (200) с isIdle, lastHeartbeat, secondsSinceLastHeartbeat, idleThreshold ✅
- Статусы ошибок (401, 404) ✅
- **Соответствие**: ✅ Полное

### 15. POST /api/auth/logout ✅

**Swagger**: ✅ Полная документация

- Описание операции ✅
- Схема ответа (200) с message ✅
- Статус ошибки (401) с подробным описанием ✅
- **Соответствие**: ✅ Полное

## Итоговая сводка

### ✅ Полностью документированы (6 эндпоинтов)

1. POST /api/auth/register
2. POST /api/auth/login
3. GET /api/auth/me
4. POST /api/idle/heartbeat
5. GET /api/idle/status
6. POST /api/auth/logout

### ⚠️ Частично документированы (9 эндпоинтов)

**Проблема**: Отсутствуют схемы ответов (200/201) с примерами структур данных

1. POST /api/projects - нет схемы ответа (201)
2. POST /api/time-entries - нет схемы ответа (201)
3. GET /api/time-entries/active - нет схемы ответа (200)
4. PUT /api/time-entries/:id/pause - нет схемы ответа (200)
5. PUT /api/time-entries/:id/resume - нет схемы ответа (200)
6. PUT /api/time-entries/:id/stop - нет схемы ответа (200)
7. GET /api/time-entries - нет схемы ответа (200)
8. PATCH /api/time-entries/:id - нет схемы ответа (200)
9. GET /api/time-entries/activities - нет схемы ответа (200)

## Рекомендации

1. **Добавить схемы ответов** для всех эндпоинтов time-entries и projects
2. **Добавить примеры** структур данных в схемах ответов
3. **Уточнить описания** статусов ошибок (400) для более детальной информации
