# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Pre-commit - –†–∞—É–Ω–¥ 4

## –ò—Ç–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ù–∞–π–¥–µ–Ω–æ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 0 –±–∞–≥–æ–≤

–ü–æ—Å–ª–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ pre-commit –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

1. **–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥**:
   - ESLint –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ Prettier ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - ESLint –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –∑–∞—Ç–µ–º Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥
   - –ü–æ—Ä—è–¥–æ–∫: `eslint --fix` ‚Üí `prettier --write` ‚Äî –æ–ø—Ç–∏–º–∞–ª–µ–Ω

2. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫**:
   - `.github/**/*.yml` –∏ `*.{json,md,yml,yaml}` ‚Äî –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
   - lint-staged –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω (`.github/**/*.yml`) –¥–ª—è —Ñ–∞–π–ª–æ–≤ –≤ `.github/`
   - –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –±–∞–≥–æ–º

3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
   - `*.{json,md,yml,yaml}` –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ
   - `nest-cli.json`, `tsconfig.json`, `package.json` –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
   - `.github/**/*.yml` –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç workflow —Ñ–∞–π–ª—ã

4. **lint-staged –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤**:
   - ESLint –∏ Prettier –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—É—á–∞—é—Ç —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö
   - lint-staged v16.2.7 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç —Ñ–∞–π–ª—ã

5. **ESLint –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
   - `prettier/prettier: "warn"` ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
   - ESLint –∏ Prettier –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è `eslint-config-prettier`
   - –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª–µ–Ω

## –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã

### ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ `src/**/*.ts`
- –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ pre-commit
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ CI/CD

### ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:

- ESLint –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–º–∏—Ç –ø—Ä–∏ warnings
- Prettier –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥
- –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –æ–ø—Ç–∏–º–∞–ª–µ–Ω
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

### ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ:

- –í—Å–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ–∫—Ä—ã—Ç—ã
- GitHub Actions workflow —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è
- Prisma —Å—Ö–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

## –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)

```json
{
  "lint-staged": {
    "src/**/*.ts": ["eslint --fix --max-warnings=0", "prettier --write"],
    "*.{json,md,yml,yaml}": ["prettier --write"],
    "prisma/schema.prisma": ["prisma format"],
    ".github/**/*.yml": ["prettier --write"]
  }
}
```

## –ü–æ—á–µ–º—É –ø–æ—Ä—è–¥–æ–∫ ESLint ‚Üí Prettier –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?

1. **ESLint –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏** (–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
2. **Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥** (–æ—Ç—Å—Ç—É–ø—ã, –ø—Ä–æ–±–µ–ª—ã, –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫)
3. **ESLint –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞** (—É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã)
4. **Prettier –∑–∞—Ç–µ–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –≤ –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å

–ï—Å–ª–∏ –±—ã –ø–æ—Ä—è–¥–æ–∫ –±—ã–ª –æ–±—Ä–∞—Ç–Ω—ã–º:

- Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥
- ESLint –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É (—É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫–∏)
- –ö–æ–¥ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –Ω–µ–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- ‚úÖ –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –æ–ø—Ç–∏–º–∞–ª–µ–Ω
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ –ø–æ–ª–Ω–æ–µ

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: 0 –±–∞–≥–æ–≤ (–≤ —ç—Ç–æ–º —Ä–∞—É–Ω–¥–µ)
- **–í—Å–µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: 3 –±–∞–≥–∞ (–≤—Å–µ–≥–æ –∑–∞ –≤—Å–µ —Ä–∞—É–Ω–¥—ã)
- **–°—Ç–∞—Ç—É—Å**: –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã ‚úÖ

## –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ pre-commit –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

1. ‚úÖ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –æ–ø—Ç–∏–º–∞–ª–µ–Ω (ESLint ‚Üí Prettier)
2. ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É ESLint –∏ Prettier
3. ‚úÖ –í—Å–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤ –ø–æ–∫—Ä—ã—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
4. ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
5. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞–¥–µ–∂–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

Pre-commit —Ö—É–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ
